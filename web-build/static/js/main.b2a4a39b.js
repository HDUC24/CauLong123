(()=>{"use strict";var e={9812:(e,t,n)=>{e.exports=n.p+"static/media/icon.608e4d9dafd9fd3d79c3.png"},9836:(e,t,n)=>{var o=n(9993),a=n(6665),i=n(3049),l=n(8833),r=n(3929),s=n(6283),d=n(3668),c=n(484),u=n(530),h=n(5817),f=n(4420),m=n(3512),g=n(6732),p=n(932),y=n(5648),x=n(6773),b=n(8264),j=n(2772),T=n(691),C=n(9439),S=n(9246),w=n(6869),v=n(5259);const B=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e),k=()=>Math.random().toString(36).substring(2)+Date.now().toString(36),I="badminton_sessions",R="badminton_players",z=async e=>{try{await v.default.setItem(I,JSON.stringify(e))}catch(t){throw console.error("L\u1ed7i khi l\u01b0u sessions:",t),t}},O=async()=>{try{const e=await v.default.getItem(I);return e?JSON.parse(e):[]}catch(e){return console.error("L\u1ed7i khi \u0111\u1ecdc sessions:",e),[]}},E=async e=>{try{await v.default.setItem(R,JSON.stringify(e))}catch(t){throw console.error("L\u1ed7i khi l\u01b0u players:",t),t}},P=async()=>{try{const e=await v.default.getItem(R);return e?JSON.parse(e):[]}catch(e){return console.error("L\u1ed7i khi \u0111\u1ecdc players:",e),[]}},L=async e=>{try{const t=await P(),n={id:k(),name:e};return t.push(n),await E(t),n}catch(t){throw console.error("L\u1ed7i khi th\xeam ng\u01b0\u1eddi ch\u01a1i:",t),t}};var D=n(397);const A=d.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},searchContainer:{flexDirection:"row",paddingHorizontal:16,paddingVertical:10,backgroundColor:"white",borderBottomWidth:1,borderBottomColor:"#eee"},searchBar:{flex:1,flexDirection:"row",alignItems:"center",backgroundColor:"#f0f0f0",borderRadius:20,paddingHorizontal:12,marginRight:8},searchIcon:{marginRight:8},searchInput:{flex:1,height:36,fontSize:14},filterButton:{width:36,height:36,justifyContent:"center",alignItems:"center",borderWidth:1,borderColor:"#4caf50",borderRadius:18},listContainer:{padding:16,paddingBottom:80},modalOverlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"flex-end"},modalContainer:{backgroundColor:"white",borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1,borderBottomColor:"#eee"},modalTitle:{fontSize:18,fontWeight:"bold",color:"#333"},modalContent:{padding:16},filterLabel:{fontSize:16,fontWeight:"500",marginBottom:8,marginTop:12,color:"#333"},timeRangeButtons:{flexDirection:"row",marginBottom:16},timeRangeButton:{flex:1,paddingVertical:8,paddingHorizontal:12,borderRadius:20,borderWidth:1,borderColor:"#ddd",marginRight:8,alignItems:"center"},timeRangeButtonActive:{backgroundColor:"#4caf50",borderColor:"#4caf50"},timeRangeText:{color:"#555"},timeRangeTextActive:{color:"white",fontWeight:"500"},filterInput:{borderWidth:1,borderColor:"#ddd",borderRadius:8,padding:10,marginBottom:16},sortOptions:{flexDirection:"row",flexWrap:"wrap",marginBottom:16},sortOption:{flex:1,paddingVertical:8,paddingHorizontal:12,borderRadius:20,borderWidth:1,borderColor:"#ddd",marginRight:8,marginBottom:8,alignItems:"center"},sortOptionActive:{backgroundColor:"#4caf50",borderColor:"#4caf50"},sortOptionText:{color:"#555",fontSize:13},sortOptionTextActive:{color:"white",fontWeight:"500",fontSize:13},filterActions:{flexDirection:"row",justifyContent:"flex-end",marginTop:16},resetButton:{paddingVertical:10,paddingHorizontal:16,marginRight:12},resetButtonText:{color:"#666",fontSize:16},applyButton:{backgroundColor:"#4caf50",paddingVertical:10,paddingHorizontal:20,borderRadius:8},applyButtonText:{color:"white",fontWeight:"500",fontSize:16},emptyText:{textAlign:"center",marginTop:40,fontSize:16,color:"#666"},sessionItem:{backgroundColor:"white",borderRadius:10,padding:16,marginBottom:16,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22},sessionHeader:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},sessionDate:{fontSize:16,fontWeight:"bold",color:"#333"},sessionLocation:{fontSize:14,color:"#666"},sessionInfo:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:8},sessionInfoLeft:{flexDirection:"column"},playerCount:{fontSize:14,color:"#555"},sessionDuration:{fontSize:13,color:"#666",marginTop:2},expenseAmount:{fontSize:16,fontWeight:"bold",color:"#2e7d32"},addButton:{position:"absolute",bottom:20,right:20,width:56,height:56,borderRadius:28,backgroundColor:"#4caf50",justifyContent:"center",alignItems:"center",elevation:5,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84},addButtonText:{fontSize:24,color:"white",fontWeight:"bold"}}),W=()=>{const e=(0,h.useNavigation)(),[t,n]=(0,a.useState)([]),[o,i]=(0,a.useState)([]),[l,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(!1),[v,k]=(0,a.useState)({timeRange:"all",location:""}),[I,R]=(0,a.useState)("dateDesc");(0,a.useEffect)((()=>{z();return e.addListener("focus",(()=>{z()}))}),[e]),(0,a.useEffect)((()=>{E()}),[t,c,v,I]);const z=async()=>{d(!0);try{const e=[...await O()].sort(((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()));n(e),i(e)}catch(e){console.error("L\u1ed7i khi t\u1ea3i sessions:",e)}finally{d(!1)}},E=()=>{let e=[...t];if(c){const t=c.toLowerCase();e=e.filter((e=>e.location.toLowerCase().includes(t)||e.notes&&e.notes.toLowerCase().includes(t)))}if("all"!==v.timeRange){const t=new Date,n="week"===v.timeRange?(0,T.subDays)(t,7):(0,T.subDays)(t,30);e=e.filter((e=>{const o=new Date(e.date);return(0,C.isWithinInterval)(o,{start:n,end:t})}))}v.location&&(e=e.filter((e=>e.location.toLowerCase().includes(v.location.toLowerCase())))),e.sort(((e,t)=>{switch(I){case"dateDesc":return new Date(t.date).getTime()-new Date(e.date).getTime();case"dateAsc":return new Date(e.date).getTime()-new Date(t.date).getTime();case"durationDesc":return(t.duration||0)-(e.duration||0);case"durationAsc":return(e.duration||0)-(t.duration||0);case"costDesc":return t.expenses.reduce(((e,t)=>e+t.amount),0)-e.expenses.reduce(((e,t)=>e+t.amount),0);case"costAsc":return e.expenses.reduce(((e,t)=>e+t.amount),0)-t.expenses.reduce(((e,t)=>e+t.amount),0);default:return 0}})),i(e)};return(0,D.jsxs)(r.default,{style:A.container,children:[(0,D.jsxs)(r.default,{style:A.searchContainer,children:[(0,D.jsxs)(r.default,{style:A.searchBar,children:[(0,D.jsx)(g.default,{name:"search",size:20,color:"#666",style:A.searchIcon}),(0,D.jsx)(x.default,{style:A.searchInput,placeholder:"T\xecm ki\u1ebfm theo \u0111\u1ecba \u0111i\u1ec3m...",value:c,onChangeText:u}),c?(0,D.jsx)(y.default,{onPress:()=>u(""),children:(0,D.jsx)(g.default,{name:"close-circle",size:18,color:"#666"})}):null]}),(0,D.jsx)(y.default,{style:A.filterButton,onPress:()=>m(!0),children:(0,D.jsx)(g.default,{name:"options",size:20,color:"#4caf50"})})]}),(0,D.jsx)(p.default,{data:o,renderItem:({item:t})=>{const n=t.expenses.reduce(((e,t)=>e+t.amount),0);return(0,D.jsxs)(y.default,{style:A.sessionItem,onPress:()=>e.navigate("SessionDetail",{sessionId:t.id}),children:[(0,D.jsxs)(r.default,{style:A.sessionHeader,children:[" ",(0,D.jsx)(s.default,{style:A.sessionDate,children:(0,D.jsx)(s.default,{children:(0,S.format)(new Date(t.date),"EEEE, dd/MM/yyyy",{locale:w.vi})})}),(0,D.jsx)(s.default,{style:A.sessionLocation,children:(0,D.jsx)(s.default,{children:t.location})})]}),(0,D.jsxs)(r.default,{style:A.sessionInfo,children:[(0,D.jsxs)(r.default,{style:A.sessionInfoLeft,children:[(0,D.jsxs)(s.default,{style:A.playerCount,children:[t.players.length," ",(0,D.jsx)(s.default,{children:"ng\u01b0\u1eddi tham gia"})]}),t.duration&&(0,D.jsx)(s.default,{style:A.sessionDuration,children:(0,D.jsx)(s.default,{children:Math.floor(t.duration/60)>0?`${Math.floor(t.duration/60)} gi\u1edd ${t.duration%60} ph\xfat`:`${t.duration} ph\xfat`})})]})," ",(0,D.jsx)(s.default,{style:A.expenseAmount,children:(0,D.jsx)(s.default,{children:B(n)})})]})]})},keyExtractor:e=>e.id,contentContainerStyle:A.listContainer,ListEmptyComponent:(0,D.jsx)(s.default,{style:A.emptyText,children:l?"\u0110ang t\u1ea3i...":0===o.length&&t.length>0?"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 n\xe0o.":"Ch\u01b0a c\xf3 bu\u1ed5i \u0111\xe1nh c\u1ea7u n\xe0o. Th\xeam bu\u1ed5i \u0111\xe1nh c\u1ea7u m\u1edbi!"})}),(0,D.jsx)(b.default,{visible:f,animationType:"slide",transparent:!0,onRequestClose:()=>m(!1),children:(0,D.jsx)(r.default,{style:A.modalOverlay,children:(0,D.jsxs)(r.default,{style:A.modalContainer,children:[(0,D.jsxs)(r.default,{style:A.modalHeader,children:[(0,D.jsxs)(s.default,{style:A.modalTitle,children:[" ",(0,D.jsx)(s.default,{children:"L\u1ecdc bu\u1ed5i \u0111\xe1nh c\u1ea7u"})]}),(0,D.jsx)(y.default,{onPress:()=>m(!1),children:(0,D.jsx)(g.default,{name:"close",size:24,color:"#333"})})]}),(0,D.jsxs)(j.default,{style:A.modalContent,children:[(0,D.jsxs)(s.default,{style:A.filterLabel,children:[" ",(0,D.jsx)(s.default,{children:"Kho\u1ea3ng th\u1eddi gian:"})]}),(0,D.jsx)(r.default,{style:A.timeRangeButtons,children:[{value:"all",label:"T\u1ea5t c\u1ea3"},{value:"week",label:"Tu\u1ea7n n\xe0y"},{value:"month",label:"Th\xe1ng n\xe0y"}].map((e=>(0,D.jsx)(y.default,{style:[A.timeRangeButton,v.timeRange===e.value&&A.timeRangeButtonActive],onPress:()=>k(Object.assign({},v,{timeRange:e.value})),children:(0,D.jsx)(s.default,{style:v.timeRange===e.value?A.timeRangeTextActive:A.timeRangeText,children:(0,D.jsx)(s.default,{children:e.label})})},e.value)))})," ",(0,D.jsx)(s.default,{style:A.filterLabel,children:(0,D.jsx)(s.default,{children:"\u0110\u1ecba \u0111i\u1ec3m:"})}),(0,D.jsx)(x.default,{style:A.filterInput,value:v.location,onChangeText:e=>k(Object.assign({},v,{location:e})),placeholder:"Nh\u1eadp t\xean \u0111\u1ecba \u0111i\u1ec3m"}),(0,D.jsx)(s.default,{style:A.filterLabel,children:(0,D.jsx)(s.default,{children:"S\u1eafp x\u1ebfp theo:"})}),(0,D.jsxs)(r.default,{style:A.sortOptions,children:[[{value:"dateDesc",label:"M\u1edbi nh\u1ea5t"},{value:"dateAsc",label:"C\u0169 nh\u1ea5t"},{value:"durationDesc",label:"Th\u1eddi l\u01b0\u1ee3ng"},{value:"costDesc",label:"Chi ph\xed"}].map((e=>(0,D.jsx)(y.default,{style:[A.sortOption,I===e.value&&A.sortOptionActive],onPress:()=>R(e.value),children:(0,D.jsx)(s.default,{style:I===e.value?A.sortOptionTextActive:A.sortOptionText,children:e.label})},e.value)))," "]}),(0,D.jsx)(s.default,{style:A.filterLabel,children:(0,D.jsx)(s.default,{children:"S\u1eafp x\u1ebfp theo:"})}),(0,D.jsx)(r.default,{style:A.sortOptions,children:[{value:"dateDesc",label:"Ng\xe0y (m\u1edbi nh\u1ea5t tr\u01b0\u1edbc)"},{value:"dateAsc",label:"Ng\xe0y (c\u0169 nh\u1ea5t tr\u01b0\u1edbc)"},{value:"durationDesc",label:"Th\u1eddi gian (gi\u1ea3m d\u1ea7n)"},{value:"durationAsc",label:"Th\u1eddi gian (t\u0103ng d\u1ea7n)"},{value:"costDesc",label:"Chi ph\xed (cao \u0111\u1ebfn th\u1ea5p)"},{value:"costAsc",label:"Chi ph\xed (th\u1ea5p \u0111\u1ebfn cao)"}].map((e=>(0,D.jsx)(y.default,{style:[A.sortOption,I===e.value&&A.sortOptionActive],onPress:()=>R(e.value),children:(0,D.jsx)(s.default,{style:I===e.value?A.sortOptionTextActive:A.sortOptionText,children:e.label})},e.value)))}),(0,D.jsxs)(r.default,{style:A.filterActions,children:[(0,D.jsx)(y.default,{style:A.resetButton,onPress:()=>{k({timeRange:"all",location:""}),u(""),R("dateDesc")},children:(0,D.jsx)(s.default,{style:A.resetButtonText,children:(0,D.jsx)(s.default,{children:"\u0110\u1eb7t l\u1ea1i"})})}),(0,D.jsx)(y.default,{style:A.applyButton,onPress:()=>m(!1),children:(0,D.jsx)(s.default,{style:A.applyButtonText,children:(0,D.jsx)(s.default,{children:"\xc1p d\u1ee5ng"})})})]})]})]})})}),(0,D.jsx)(y.default,{style:A.addButton,onPress:()=>e.navigate("NewSession"),children:(0,D.jsx)(s.default,{style:A.addButtonText,children:"+"})})]})};var H=n(1690);let N=function(e){return e.COURT_FEE="court_fee",e.SHUTTLE="shuttle",e.DRINK="drink",e.EQUIPMENT="equipment",e.OTHER="other",e}({});var V=n(4037);const M=d.default.create({container:{backgroundColor:"#fff",borderRadius:12,padding:16,marginVertical:8,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:3},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},title:{fontSize:18,fontWeight:"bold",color:"#333"},paymentButton:{backgroundColor:"#4caf50",paddingVertical:6,paddingHorizontal:12,borderRadius:16},paymentButtonText:{color:"white",fontSize:12,fontWeight:"500"},totalText:{fontSize:16,color:"#555",marginBottom:16},remainingText:{color:"#e53935"},chartContainer:{marginVertical:12},barRow:{flexDirection:"row",alignItems:"center",marginBottom:12},nameContainer:{width:"28%",flexDirection:"row",alignItems:"center"},paidIcon:{marginRight:4},nameText:{fontSize:14,color:"#444",marginRight:8,flex:1},barContainer:{flex:1,flexDirection:"row",alignItems:"center"},bar:{height:20,backgroundColor:"#4caf50",borderRadius:4,marginRight:8},amountText:{fontSize:14,fontWeight:"500",color:"#333"},paidText:{color:"#4caf50",textDecorationLine:"line-through",textDecorationStyle:"solid"},paidBar:{backgroundColor:"#a5d6a7",opacity:.7},paidAmount:{color:"#4caf50"},note:{fontSize:12,color:"#888",marginTop:8,fontStyle:"italic"},modalOverlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"flex-end"},modalContainer:{backgroundColor:"white",borderTopLeftRadius:16,borderTopRightRadius:16,maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:16,paddingVertical:12,borderBottomWidth:1,borderBottomColor:"#eee"},modalTitle:{fontSize:18,fontWeight:"bold",color:"#333"},modalContent:{padding:16},paymentRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:12,borderBottomWidth:1,borderBottomColor:"#eee"},paymentInfo:{flex:1},paymentName:{fontSize:16,fontWeight:"500",color:"#333"},paymentAmount:{fontSize:14,color:"#666",marginTop:2},paymentSummary:{marginTop:24,paddingTop:16,borderTopWidth:1,borderTopColor:"#eee"},summaryTitle:{fontSize:16,fontWeight:"bold",marginBottom:12,color:"#333"},summaryRow:{flexDirection:"row",justifyContent:"space-between",paddingVertical:8},summaryTotal:{fontWeight:"500",color:"#333"},summaryPaid:{color:"#4caf50",fontWeight:"500"},summaryRemaining:{color:"#e53935",fontWeight:"500"}}),F=({totalAmount:e,playerAmounts:t,onShowPaymentStatus:n})=>{const[o,i]=(0,a.useState)(!1),[l,d]=(0,a.useState)({}),c=[...t].sort(((e,t)=>t.amount-e.amount)),u=Math.max(...t.map((e=>e.amount)),1),h=e=>{d((t=>Object.assign({},t,{[e]:!t[e]})))},f=(c.every((e=>l[e.id])),c.reduce(((e,t)=>e+(l[t.id]?t.amount:0)),0)),m=e-f;return(0,D.jsxs)(r.default,{style:M.container,children:[(0,D.jsxs)(r.default,{style:M.header,children:[(0,D.jsx)(s.default,{style:M.title,children:"Ph\xe2n b\u1ed5 chi ph\xed"}),(0,D.jsx)(y.default,{style:M.paymentButton,onPress:()=>i(!0),children:(0,D.jsx)(s.default,{style:M.paymentButtonText,children:"Theo d\xf5i thanh to\xe1n"})})]}),(0,D.jsxs)(s.default,{style:M.totalText,children:["T\u1ed5ng chi ph\xed: ",B(e),m>0&&f>0&&(0,D.jsxs)(s.default,{style:M.remainingText,children:[" ","(C\xf2n thi\u1ebfu: ",B(m),")"]})]}),(0,D.jsx)(r.default,{style:M.chartContainer,children:c.map((e=>{const t=Math.max(e.amount/u*100,5)/100,n=l[e.id]||!1;return(0,D.jsxs)(y.default,{style:M.barRow,onPress:()=>h(e.id),children:[(0,D.jsxs)(r.default,{style:M.nameContainer,children:[n&&(0,D.jsx)(g.default,{name:"checkmark-circle",size:16,color:"#4caf50",style:M.paidIcon}),(0,D.jsx)(s.default,{style:[M.nameText,n&&M.paidText],numberOfLines:1,ellipsizeMode:"tail",children:e.name})]}),(0,D.jsxs)(r.default,{style:M.barContainer,children:[(0,D.jsx)(r.default,{style:[M.bar,{flex:t},n&&M.paidBar]}),(0,D.jsx)(s.default,{style:[M.amountText,n&&M.paidAmount],children:B(e.amount)})]})]},e.id)}))}),(0,D.jsx)(s.default,{style:M.note,children:"Nh\u1ea5n v\xe0o ng\u01b0\u1eddi ch\u01a1i \u0111\u1ec3 \u0111\xe1nh d\u1ea5u \u0111\xe3 thanh to\xe1n"}),(0,D.jsx)(b.default,{visible:o,animationType:"slide",transparent:!0,onRequestClose:()=>i(!1),children:(0,D.jsx)(r.default,{style:M.modalOverlay,children:(0,D.jsxs)(r.default,{style:M.modalContainer,children:[(0,D.jsxs)(r.default,{style:M.modalHeader,children:[(0,D.jsx)(s.default,{style:M.modalTitle,children:"Theo d\xf5i thanh to\xe1n"}),(0,D.jsx)(y.default,{onPress:()=>i(!1),children:(0,D.jsx)(g.default,{name:"close",size:24,color:"#333"})})]}),(0,D.jsxs)(j.default,{style:M.modalContent,children:[c.map((e=>(0,D.jsxs)(r.default,{style:M.paymentRow,children:[(0,D.jsxs)(r.default,{style:M.paymentInfo,children:[(0,D.jsx)(s.default,{style:M.paymentName,children:e.name}),(0,D.jsx)(s.default,{style:M.paymentAmount,children:B(e.amount)})]}),(0,D.jsx)(V.default,{value:l[e.id]||!1,onValueChange:()=>h(e.id),trackColor:{false:"#e0e0e0",true:"#b9dfbb"},thumbColor:l[e.id]?"#4caf50":"#f4f3f4"})]},e.id))),(0,D.jsxs)(r.default,{style:M.paymentSummary,children:[(0,D.jsx)(s.default,{style:M.summaryTitle,children:"T\u1ed5ng quan"}),(0,D.jsxs)(r.default,{style:M.summaryRow,children:[(0,D.jsx)(s.default,{children:"T\u1ed5ng chi ph\xed:"}),(0,D.jsx)(s.default,{style:M.summaryTotal,children:B(e)})]}),(0,D.jsxs)(r.default,{style:M.summaryRow,children:[(0,D.jsx)(s.default,{children:"\u0110\xe3 thu:"}),(0,D.jsx)(s.default,{style:M.summaryPaid,children:B(f)})]}),(0,D.jsxs)(r.default,{style:M.summaryRow,children:[(0,D.jsx)(s.default,{children:"C\xf2n l\u1ea1i:"}),(0,D.jsx)(s.default,{style:M.summaryRemaining,children:B(m)})]})]})]})]})})})]})};var K=n(8703);const U=d.default.create({shareButton:{backgroundColor:"#2196f3",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingVertical:12,paddingHorizontal:16,borderRadius:8,marginVertical:8},shareText:{color:"white",fontWeight:"bold",fontSize:16,marginLeft:8}}),$=({session:e,calculatedExpenses:t})=>{const n=e=>{switch(e){case"court_fee":return"Ti\u1ec1n s\xe2n";case"shuttle":return"Ti\u1ec1n c\u1ea7u";case"drink":return"Ti\u1ec1n n\u01b0\u1edbc";case"equipment":return"Ti\u1ec1n ph\u1ee5 ki\u1ec7n";case"other":return"Chi ph\xed kh\xe1c";default:return"Chi ph\xed"}};return(0,D.jsxs)(y.default,{style:U.shareButton,onPress:async()=>{try{const o=(0,S.format)(new Date(e.date),"dd/MM/yyyy"),a=(0,S.format)(new Date(e.date),"HH:mm");let i="\ud83d\udccb B\xc1O C\xc1O CHI PH\xcd C\u1ea6U L\xd4NG\n\n";i+=`\ud83d\uddd3\ufe0f Ng\xe0y: ${o}\n`,i+=`\ud83d\udd52 Gi\u1edd: ${a}\n`,i+=`\ud83d\udccd \u0110\u1ecba \u0111i\u1ec3m: ${e.location}\n`,i+=`\ud83d\udc65 S\u1ed1 ng\u01b0\u1eddi tham gia: ${e.players.length} ng\u01b0\u1eddi\n`,e.notes&&(i+=`\ud83d\udcdd Ghi ch\xfa: ${e.notes}\n`),i+="\n----------------------\n\n",i+="\ud83e\uddfe CHI TI\u1ebeT C\xc1C KHO\u1ea2N CHI:\n\n",e.expenses.forEach(((t,o)=>{const a=n(t.type);if(i+=`${o+1}. ${a}: ${B(t.amount)}`,t.description&&(i+=` (${t.description})`),t.divideAmong&&t.divideAmong.length>0&&t.divideAmong.length<e.players.length){const n=t.divideAmong.map((t=>e.players.find((e=>e.id===t))?.name||"")).filter((e=>e)).join(", ");i+=`\n   \u2192 Chia cho: ${n}`}i+="\n\n"})),i+="----------------------\n\n",i+=`\ud83d\udcb0 T\u1ed4NG CHI PH\xcd: ${B(t.totalAmount)}\n\n`,i+="\ud83d\udcb8 CHI PH\xcd M\u1ed6I NG\u01af\u1edcI:\n\n";[...e.players].sort(((e,t)=>e.name.localeCompare(t.name))).forEach((e=>{const n=t.splitByPlayer[e.id]||0;i+=`\u2022 ${e.name}: ${B(n)}\n`})),await K.default.share({message:i,title:`Chi ph\xed \u0111\xe1nh c\u1ea7u l\xf4ng ng\xe0y ${o}`})}catch(o){console.error("L\u1ed7i khi chia s\u1ebb:",o)}},children:[(0,D.jsx)(g.default,{name:"share-social-outline",size:20,color:"white"}),(0,D.jsx)(s.default,{style:U.shareText,children:"Chia s\u1ebb chi ph\xed"})]})},_=d.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},center:{justifyContent:"center",alignItems:"center"},scrollContent:{padding:16},header:{backgroundColor:"white",borderRadius:10,padding:16,marginBottom:16,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22},dateText:{fontSize:18,fontWeight:"bold",color:"#333",marginBottom:4},locationText:{fontSize:16,color:"#555",marginBottom:8},notesText:{fontSize:14,color:"#777",fontStyle:"italic"},timeInfo:{marginVertical:8},timeText:{fontSize:15,color:"#555",marginBottom:4},durationText:{fontSize:15,color:"#555",marginBottom:4},section:{backgroundColor:"white",borderRadius:10,padding:16,marginBottom:16,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22},sectionTitle:{fontSize:16,fontWeight:"bold",color:"#333",marginBottom:12,borderBottomWidth:1,borderBottomColor:"#eee",paddingBottom:8},expenseItem:{marginBottom:15,paddingBottom:12,borderBottomWidth:1,borderBottomColor:"#eeeeee",backgroundColor:"#ffffff",borderRadius:10,padding:12,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:3,elevation:2},expenseHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:2},expenseTypeContainer:{flexDirection:"row",alignItems:"center",flex:1},expenseType:{fontSize:16,fontWeight:"600",color:"#444"},expenseAmount:{fontSize:16,fontWeight:"bold",color:"#2e7d32"},expenseDescription:{fontSize:14,color:"#666",marginTop:6,paddingTop:6,paddingBottom:2,borderTopWidth:1,borderTopColor:"#f8f8f8"},customBadge:{backgroundColor:"#4caf50",paddingHorizontal:8,paddingVertical:3,borderRadius:12,marginLeft:8,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:1,elevation:1},customBadgeText:{color:"white",fontSize:10,fontWeight:"bold",textShadowColor:"rgba(0,0,0,0.2)",textShadowOffset:{width:0,height:1},textShadowRadius:1},expensePlayers:{marginTop:8,backgroundColor:"#fafafa",borderRadius:8,padding:10,borderWidth:1,borderColor:"#eaeaea"},expensePlayersLabel:{fontSize:12,color:"#666",fontStyle:"italic",marginBottom:6,fontWeight:"500"},expensePlayersList:{flexDirection:"row",flexWrap:"wrap",marginTop:4},expensePlayerName:{fontSize:12,color:"#4caf50",backgroundColor:"#f0fff0",borderWidth:1,borderColor:"#4caf50",borderRadius:6,paddingVertical:4,paddingHorizontal:8,marginRight:8,marginBottom:6,fontWeight:"500",shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:1,elevation:1},totalExpense:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:8,paddingTop:12,borderTopWidth:1,borderTopColor:"#eee"},totalExpenseLabel:{fontSize:16,fontWeight:"bold",color:"#333"},totalExpenseAmount:{fontSize:18,fontWeight:"bold",color:"#2e7d32"},playerItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8,borderBottomWidth:1,borderBottomColor:"#f0f0f0"},playerName:{fontSize:15,fontWeight:"500",color:"#444"},playerAmount:{fontSize:15,fontWeight:"500",color:"#2e7d32"},buttonContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:8,marginBottom:24},button:{flex:1,padding:14,borderRadius:8,justifyContent:"center",alignItems:"center",marginHorizontal:6},editButton:{backgroundColor:"#2196f3"},deleteButton:{backgroundColor:"#f44336"},buttonText:{color:"white",fontSize:16,fontWeight:"bold"},modalButton:{backgroundColor:"#4caf50",paddingVertical:10,paddingHorizontal:20,borderRadius:4,marginHorizontal:8},modalButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"}}),Q=()=>{const e=(0,h.useNavigation)(),t=(0,h.useRoute)(),{sessionId:n}=t.params,[o,i]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),[c,f]=(0,a.useState)(!0);(0,a.useEffect)((()=>{m()}),[n]);const m=async()=>{f(!0);try{const t=(await O()).find((e=>e.id===n));if(t){i(t);const e=(e=>{const t={totalAmount:0,splitByPlayer:{}};return e.players.forEach((e=>{t.splitByPlayer[e.id]=0})),e.expenses.forEach((n=>{t.totalAmount+=n.amount;const o=n.divideAmong?e.players.filter((e=>n.divideAmong?.includes(e.id))):e.players;if(0===o.length)return;const a=n.amount/o.length;o.forEach((e=>{t.splitByPlayer[e.id]+=a}))})),t})(t);d(e)}else H.default.alert("L\u1ed7i","Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin bu\u1ed5i \u0111\xe1nh c\u1ea7u"),e.goBack()}catch(t){console.error("L\u1ed7i khi t\u1ea3i chi ti\u1ebft bu\u1ed5i \u0111\xe1nh c\u1ea7u:",t),H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 t\u1ea3i th\xf4ng tin bu\u1ed5i \u0111\xe1nh c\u1ea7u")}finally{f(!1)}},g=e=>{switch(e){case N.COURT_FEE:return"Ti\u1ec1n s\xe2n";case N.SHUTTLE:return"Ti\u1ec1n c\u1ea7u";case N.DRINK:return"Ti\u1ec1n n\u01b0\u1edbc";case N.EQUIPMENT:return"Ti\u1ec1n ph\u1ee5 ki\u1ec7n";case N.OTHER:return"Chi ph\xed kh\xe1c";default:return"Chi ph\xed"}};return c?(0,D.jsx)(r.default,{style:[_.container,_.center],children:(0,D.jsx)(u.default,{size:"large",color:"#4caf50"})}):o&&l?(0,D.jsx)(r.default,{style:_.container,children:(0,D.jsxs)(j.default,{contentContainerStyle:_.scrollContent,children:[" ",(0,D.jsxs)(r.default,{style:_.header,children:[(0,D.jsx)(s.default,{style:_.dateText,children:(0,S.format)(new Date(o.date),"EEEE, dd/MM/yyyy",{locale:w.vi})}),(0,D.jsxs)(r.default,{style:_.timeInfo,children:[(0,D.jsxs)(s.default,{style:_.timeText,children:["Th\u1eddi gian: ",(0,S.format)(new Date(o.date),"HH:mm"),o.endTime?` - ${(0,S.format)(new Date(o.endTime),"HH:mm")}`:""]}),o.duration&&(0,D.jsxs)(s.default,{style:_.durationText,children:["Th\u1eddi l\u01b0\u1ee3ng:"," ",Math.floor(o.duration/60)>0?`${Math.floor(o.duration/60)} gi\u1edd ${o.duration%60} ph\xfat`:`${o.duration} ph\xfat`]})]}),(0,D.jsx)(s.default,{style:_.locationText,children:o.location}),o.notes&&(0,D.jsx)(s.default,{style:_.notesText,children:o.notes})]}),(0,D.jsxs)(r.default,{style:_.section,children:[(0,D.jsx)(s.default,{style:_.sectionTitle,children:"Danh s\xe1ch chi ph\xed"})," ",o.expenses.map((e=>{const t=(e=>{switch(e){case N.COURT_FEE:return"#4caf50";case N.SHUTTLE:return"#2196f3";case N.DRINK:return"#ff9800";case N.EQUIPMENT:return"#9c27b0";case N.OTHER:return"#e91e63";default:return"#607d8b"}})(e.type),n=e.divideAmong&&e.divideAmong.length>0;return(0,D.jsxs)(r.default,{style:[_.expenseItem,{borderLeftColor:t,borderLeftWidth:4}],children:[(0,D.jsxs)(r.default,{style:_.expenseHeader,children:[(0,D.jsxs)(r.default,{style:_.expenseTypeContainer,children:[(0,D.jsx)(s.default,{style:[_.expenseType,{color:t}],children:g(e.type)}),n&&(0,D.jsx)(r.default,{style:[_.customBadge,{backgroundColor:t}],children:(0,D.jsx)(s.default,{style:_.customBadgeText,children:"T\xf9y ch\u1ec9nh"})})]}),(0,D.jsx)(s.default,{style:[_.expenseAmount,e.type===N.OTHER?{fontWeight:"bold"}:{}],children:B(e.amount)})]}),e.description&&(0,D.jsxs)(s.default,{style:[_.expenseDescription,e.type===N.OTHER?{fontStyle:"italic"}:{}],children:[" ",(0,D.jsx)(s.default,{children:e.description})]}),n&&(0,D.jsxs)(r.default,{style:[_.expensePlayers,{backgroundColor:`${t}08`}],children:[(0,D.jsx)(s.default,{style:_.expensePlayersLabel,children:"Chi ph\xed n\xe0y \u0111\u01b0\u1ee3c chia cho:"}),(0,D.jsx)(r.default,{style:_.expensePlayersList,children:e.divideAmong.map((e=>{const n=o.players.find((t=>t.id===e));return n?(0,D.jsx)(s.default,{style:[_.expensePlayerName,{backgroundColor:`${t}15`,borderColor:t,color:t}],children:n.name},e):null}))})]})]},e.id)})),(0,D.jsxs)(r.default,{style:_.totalExpense,children:[(0,D.jsx)(s.default,{style:_.totalExpenseLabel,children:"T\u1ed5ng chi ph\xed:"})," ",(0,D.jsx)(s.default,{style:_.totalExpenseAmount,children:(0,D.jsx)(s.default,{children:B(l.totalAmount)})})]})]})," ",(0,D.jsxs)(r.default,{style:_.section,children:[(0,D.jsxs)(s.default,{style:_.sectionTitle,children:["Ng\u01b0\u1eddi tham gia (",o.players.length,")"]}),o.players.map((e=>(0,D.jsxs)(r.default,{style:_.playerItem,children:[(0,D.jsx)(s.default,{style:_.playerName,children:e.name})," ",(0,D.jsx)(s.default,{style:_.playerAmount,children:(0,D.jsx)(s.default,{children:B(l.splitByPlayer[e.id]||0)})})]},e.id)))]}),(0,D.jsx)(F,{totalAmount:l.totalAmount,playerAmounts:o.players.map((e=>({id:e.id,name:e.name,amount:l.splitByPlayer[e.id]||0})))})," ",(0,D.jsx)($,{session:o,calculatedExpenses:l}),(0,D.jsxs)(r.default,{style:_.buttonContainer,children:[(0,D.jsx)(y.default,{style:[_.button,_.editButton],onPress:()=>e.navigate("EditSession",{sessionId:o.id}),children:(0,D.jsx)(s.default,{style:_.buttonText,children:"Ch\u1ec9nh s\u1eeda"})}),(0,D.jsx)(y.default,{style:[_.button,_.deleteButton],onPress:()=>{H.default.alert("X\xe1c nh\u1eadn x\xf3a","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a bu\u1ed5i \u0111\xe1nh c\u1ea7u n\xe0y kh\xf4ng?",[{text:"H\u1ee7y",style:"cancel"},{text:"X\xf3a",style:"destructive",onPress:async()=>{try{await(async e=>{try{const t=(await O()).filter((t=>t.id!==e));await z(t)}catch(t){throw console.error("L\u1ed7i khi x\xf3a session:",t),t}})(n),e.goBack()}catch(t){H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 x\xf3a bu\u1ed5i \u0111\xe1nh c\u1ea7u")}}}])},children:(0,D.jsx)(s.default,{style:_.buttonText,children:"X\xf3a"})})]})]})}):(0,D.jsx)(r.default,{style:[_.container,_.center],children:(0,D.jsx)(s.default,{children:"Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin"})})};var G=n(9162);const X=d.default.create({container:{flex:1,padding:16,backgroundColor:"#fff"},section:{marginBottom:24},label:{fontSize:16,fontWeight:"bold",marginBottom:8},datePicker:{padding:12,borderWidth:1,borderColor:"#ccc",borderRadius:8,alignItems:"center"},dateText:{fontSize:16},input:{padding:12,borderWidth:1,borderColor:"#ccc",borderRadius:8,fontSize:16},playersContainer:{flexDirection:"row",flexWrap:"wrap",marginTop:8},playerButton:{padding:12,borderWidth:1,borderColor:"#007bff",borderRadius:8,marginRight:8,marginBottom:8,backgroundColor:"#f0f8ff"},selectedPlayer:{backgroundColor:"#007bff"},playerName:{fontSize:16,color:"#007bff"},selectedPlayerText:{color:"#fff"},addPlayerContainer:{flexDirection:"row",alignItems:"center",marginTop:16},addPlayerInput:{flex:1,padding:12,borderWidth:1,borderColor:"#007bff",borderRadius:8,fontSize:16,marginRight:8},addPlayerButton:{padding:12,backgroundColor:"#007bff",borderRadius:8,alignItems:"center",justifyContent:"center"},addPlayerButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"},expenseItem:{padding:12,borderWidth:1,borderColor:"#ccc",borderRadius:8,marginBottom:8,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},expenseText:{fontSize:16},removeExpenseButton:{padding:8,backgroundColor:"#ff4d4d",borderRadius:8},removeExpenseButtonText:{color:"#fff",fontWeight:"bold"},addExpenseContainer:{flexDirection:"column",width:"100%",marginTop:16},expenseTypeSelector:{marginBottom:16,width:"100%"},expenseTypeLabel:{fontSize:15,fontWeight:"bold",marginBottom:10,color:"#333"},expenseTypeOptions:{flexDirection:"column",width:"100%"},expenseTypeOption:{padding:12,borderWidth:1,borderColor:"#4caf50",borderRadius:8,marginBottom:8,backgroundColor:"#f0fff0",width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},selectedExpenseType:{backgroundColor:"#4caf50"},expenseTypeText:{fontSize:15,color:"#4caf50",fontWeight:"500",flex:1},selectedExpenseTypeText:{color:"#fff",fontWeight:"bold"},expenseInput:{padding:12,borderWidth:1,borderColor:"#ccc",borderRadius:8,fontSize:16,marginBottom:12},playerSelectionContainer:{marginBottom:12},playerSelectionLabel:{fontSize:14,fontWeight:"bold",marginBottom:8},playerSelectionList:{flexDirection:"column",width:"100%"},playerSelectItem:{padding:10,borderWidth:1,borderColor:"#4caf50",borderRadius:8,marginBottom:8,backgroundColor:"#f0fff0",width:"100%",flexDirection:"row",alignItems:"center"},playerSelectItemSelected:{backgroundColor:"#4caf50"},playerSelectName:{fontSize:15,color:"#4caf50",flex:1,fontWeight:"500"},playerSelectNameSelected:{color:"#fff",fontWeight:"bold"},addExpenseButton:{backgroundColor:"#4caf50",padding:12,borderRadius:8,alignItems:"center",marginTop:8,marginBottom:12},addExpenseButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"},checkboxContainer:{marginRight:10},checkbox:{width:20,height:20,borderWidth:1,borderColor:"#4caf50",borderRadius:4,justifyContent:"center",alignItems:"center",backgroundColor:"#fff"},checkboxSelected:{backgroundColor:"#4caf50"},checkmark:{color:"#fff",fontSize:12,fontWeight:"bold"},radioContainer:{marginLeft:10},radioOuter:{width:22,height:22,borderRadius:11,borderWidth:2,borderColor:"#4caf50",justifyContent:"center",alignItems:"center",backgroundColor:"#fff"},radioOuterSelected:{borderColor:"#4caf50",backgroundColor:"#f0fff0"},radioInner:{width:12,height:12,borderRadius:6,backgroundColor:"#4caf50"},courtFeeButton:{backgroundColor:"#2196f3"},submitButton:{backgroundColor:"#4caf50",padding:16,borderRadius:8,alignItems:"center",marginTop:24},submitButtonText:{color:"#fff",fontSize:16,fontWeight:"bold"}}),q=()=>{const e=(0,h.useNavigation)(),[t,n]=(0,a.useState)(new Date),[o,i]=(0,a.useState)(null),[l,d]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[g,p]=(0,a.useState)(!1),[b,T]=(0,a.useState)(!1),[C,v]=(0,a.useState)([]),[I,R]=(0,a.useState)([]),[E,A]=(0,a.useState)(""),[W,V]=(0,a.useState)([]),[M,F]=(0,a.useState)({type:N.COURT_FEE,amount:"",description:"",divideAmong:[]});(0,a.useEffect)((()=>{K()}),[]);const K=async()=>{try{const e=await P();v(e)}catch(e){console.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch ng\u01b0\u1eddi ch\u01a1i:",e)}},U=e=>{switch(e){case N.COURT_FEE:return"Ti\u1ec1n s\xe2n";case N.SHUTTLE:return"Ti\u1ec1n c\u1ea7u";case N.DRINK:return"Ti\u1ec1n n\u01b0\u1edbc";case N.EQUIPMENT:return"Ti\u1ec1n ph\u1ee5 ki\u1ec7n";case N.OTHER:return"Chi ph\xed kh\xe1c";default:return"Chi ph\xed"}},$=()=>{if(t&&o){const e=new Date(t),n=new Date(o);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n<e&&n.setDate(n.getDate()+1),Math.round((n.getTime()-e.getTime())/6e4)}},_=e=>[N.DRINK,N.EQUIPMENT,N.OTHER].includes(e);return(0,D.jsx)(r.default,{style:X.container,children:(0,D.jsxs)(j.default,{children:[(0,D.jsxs)(r.default,{style:X.section,children:[(0,D.jsx)(s.default,{style:X.label,children:"Ng\xe0y"}),(0,D.jsx)(y.default,{onPress:()=>p(!0),style:X.datePicker,children:(0,D.jsx)(s.default,{style:X.dateText,children:(0,S.format)(t,"dd/MM/yyyy",{locale:w.vi})})}),g&&(0,D.jsx)(G.default,{value:t,mode:"date",display:"default",onChange:(e,t)=>{p(!1),t&&n(t)}})]}),(0,D.jsxs)(r.default,{style:X.section,children:[(0,D.jsx)(s.default,{style:X.label,children:"Th\u1eddi gian k\u1ebft th\xfac"}),(0,D.jsx)(y.default,{onPress:()=>T(!0),style:X.datePicker,children:(0,D.jsx)(s.default,{style:X.dateText,children:o?(0,S.format)(o,"HH:mm",{locale:w.vi}):"Ch\u01b0a ch\u1ecdn th\u1eddi gian"})}),b&&(0,D.jsx)(G.default,{value:o||new Date,mode:"time",display:"default",onChange:(e,t)=>{T(!1),t&&i(t)}})]}),(0,D.jsxs)(r.default,{style:X.section,children:[(0,D.jsx)(s.default,{style:X.label,children:"\u0110\u1ecba \u0111i\u1ec3m"}),(0,D.jsx)(x.default,{style:X.input,value:l,onChangeText:d})]}),(0,D.jsxs)(r.default,{style:X.section,children:[(0,D.jsx)(s.default,{style:X.label,children:"Ghi ch\xfa"}),(0,D.jsx)(x.default,{style:X.input,value:c,onChangeText:u,multiline:!0})]}),(0,D.jsxs)(r.default,{style:X.section,children:[(0,D.jsx)(s.default,{style:X.label,children:"Gi\xe1 thu\xea s\xe2n (VN\u0110/gi\u1edd)"}),(0,D.jsx)(x.default,{style:X.input,value:f,onChangeText:m,keyboardType:"numeric"})]}),(0,D.jsxs)(r.default,{style:X.section,children:[(0,D.jsx)(s.default,{style:X.label,children:"Ng\u01b0\u1eddi ch\u01a1i"}),(0,D.jsx)(r.default,{style:X.playersContainer,children:C.map((e=>(0,D.jsx)(y.default,{onPress:()=>{return t=e.id,void(I.includes(t)?R(I.filter((e=>e!==t))):R([...I,t]));var t},style:[X.playerButton,I.includes(e.id)&&X.selectedPlayer],children:(0,D.jsx)(s.default,{style:[X.playerName,I.includes(e.id)&&X.selectedPlayerText],children:e.name})},e.id)))}),(0,D.jsxs)(r.default,{style:X.addPlayerContainer,children:[(0,D.jsx)(x.default,{style:X.addPlayerInput,value:E,onChangeText:A,placeholder:"Nh\u1eadp t\xean ng\u01b0\u1eddi ch\u01a1i m\u1edbi"}),(0,D.jsx)(y.default,{onPress:async()=>{if(E.trim())try{const e=await L(E.trim());v([...C,e]),R([...I,e.id]),A("")}catch(e){H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 th\xeam ng\u01b0\u1eddi ch\u01a1i m\u1edbi")}else H.default.alert("L\u1ed7i","Vui l\xf2ng nh\u1eadp t\xean ng\u01b0\u1eddi ch\u01a1i")},style:X.addPlayerButton,children:(0,D.jsx)(s.default,{style:X.addPlayerButtonText,children:(0,D.jsx)(s.default,{children:"Th\xeam"})})})]})]}),(0,D.jsxs)(r.default,{style:X.section,children:[(0,D.jsx)(s.default,{style:X.label,children:"Chi ph\xed"}),W.map((e=>(0,D.jsxs)(r.default,{style:X.expenseItem,children:[" ",(0,D.jsxs)(s.default,{style:X.expenseText,children:[(0,D.jsxs)(s.default,{children:[U(e.type),": "]}),(0,D.jsxs)(s.default,{children:[B(e.amount)," "]}),(0,D.jsx)(y.default,{onPress:()=>{return t=e.id,void V(W.filter((e=>e.id!==t)));var t},style:X.removeExpenseButton,children:(0,D.jsx)(s.default,{style:X.removeExpenseButtonText,children:(0,D.jsx)(s.default,{children:"X"})})})]})]},e.id))),(0,D.jsxs)(r.default,{style:X.addExpenseContainer,children:[" ",(0,D.jsxs)(r.default,{style:X.expenseTypeSelector,children:[(0,D.jsx)(s.default,{style:X.expenseTypeLabel,children:"Lo\u1ea1i chi ph\xed:"}),(0,D.jsx)(r.default,{style:X.expenseTypeOptions,children:Object.values(N).map((e=>(0,D.jsxs)(y.default,{style:[X.expenseTypeOption,M.type===e&&X.selectedExpenseType],onPress:()=>(e=>{F(Object.assign({},M,{type:e,divideAmong:_(e)&&M.divideAmong||[]}))})(e),children:[(0,D.jsx)(s.default,{style:[X.expenseTypeText,M.type===e&&X.selectedExpenseTypeText],children:U(e)}),(0,D.jsx)(r.default,{style:X.radioContainer,children:(0,D.jsx)(r.default,{style:[X.radioOuter,M.type===e&&X.radioOuterSelected],children:M.type===e&&(0,D.jsx)(r.default,{style:X.radioInner})})})]},e)))})]}),(0,D.jsx)(x.default,{style:X.expenseInput,placeholder:"S\u1ed1 ti\u1ec1n",value:M.amount,onChangeText:e=>F(Object.assign({},M,{amount:e.replace(/[^0-9]/g,"")})),keyboardType:"numeric"}),(0,D.jsx)(x.default,{style:X.expenseInput,placeholder:"M\xf4 t\u1ea3 (kh\xf4ng b\u1eaft bu\u1ed9c)",value:M.description,onChangeText:e=>F(Object.assign({},M,{description:e}))}),_(M.type)&&(0,D.jsxs)(r.default,{style:X.playerSelectionContainer,children:[(0,D.jsx)(s.default,{style:X.playerSelectionLabel,children:"Chia chi ph\xed cho:"}),(0,D.jsxs)(r.default,{style:X.playerSelectionList,children:[" ",C.map((e=>(0,D.jsxs)(y.default,{style:[X.playerSelectItem,M.divideAmong?.includes(e.id)&&X.playerSelectItemSelected],onPress:()=>(e=>{const t=M.divideAmong||[];t.includes(e)?F(Object.assign({},M,{divideAmong:t.filter((t=>t!==e))})):F(Object.assign({},M,{divideAmong:[...t,e]}))})(e.id),children:[(0,D.jsx)(r.default,{style:X.checkboxContainer,children:(0,D.jsx)(r.default,{style:[X.checkbox,M.divideAmong?.includes(e.id)&&X.checkboxSelected],children:M.divideAmong?.includes(e.id)&&(0,D.jsx)(s.default,{style:X.checkmark,children:"\u2713"})})}),(0,D.jsx)(s.default,{style:[X.playerSelectName,M.divideAmong?.includes(e.id)&&X.playerSelectNameSelected],children:e.name})]},e.id)))]})]}),(0,D.jsx)(y.default,{onPress:()=>{if(!M.amount||parseFloat(M.amount)<=0)return void H.default.alert("L\u1ed7i","Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n h\u1ee3p l\u1ec7");if(_(M.type)&&(!M.divideAmong||0===M.divideAmong.length))return void H.default.alert("Ch\u01b0a ch\u1ecdn ng\u01b0\u1eddi tham gia","Vui l\xf2ng ch\u1ecdn \xedt nh\u1ea5t m\u1ed9t ng\u01b0\u1eddi tham gia \u0111\u1ec3 chi tr\u1ea3 chi ph\xed n\xe0y.");const e={id:k(),type:M.type,amount:parseFloat(M.amount),description:M.description,divideAmong:M.divideAmong?.length?M.divideAmong:void 0};V([...W,e]),F({type:N.COURT_FEE,amount:"",description:"",divideAmong:[]})},style:X.addExpenseButton,children:(0,D.jsx)(s.default,{style:X.addExpenseButtonText,children:(0,D.jsx)(s.default,{children:"Th\xeam chi ph\xed"})})}),f&&o&&(0,D.jsxs)(y.default,{style:[X.addExpenseButton,X.courtFeeButton],onPress:()=>{if(!f||parseFloat(f)<=0)return void H.default.alert("L\u1ed7i","Vui l\xf2ng nh\u1eadp gi\xe1 thu\xea s\xe2n h\u1ee3p l\u1ec7");if(!o)return void H.default.alert("L\u1ed7i","Vui l\xf2ng ch\u1ecdn th\u1eddi gian k\u1ebft th\xfac \u0111\u1ec3 t\xednh chi ph\xed thu\xea s\xe2n");const e=(()=>{const e=$();if(e&&f){const t=parseFloat(f),n=e/60;return Math.round(t*n)}return 0})();if(e<=0)return void H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 t\xednh chi ph\xed thu\xea s\xe2n");const t=$();let n=0,a=0;t&&(n=Math.floor(t/60),a=t%60);const i="S\xe2n "+((n>0?n+" gi\u1edd ":"")+(a>0?a+" ph\xfat":""))+" ("+(B(parseFloat(f))+"/gi\u1edd")+")",l={id:k(),type:N.COURT_FEE,amount:e,description:i};V([...W,l]),H.default.alert("Th\xe0nh c\xf4ng","\u0110\xe3 th\xeam chi ph\xed thu\xea s\xe2n")},children:[" ",(0,D.jsx)(s.default,{style:X.addExpenseButtonText,children:(0,D.jsxs)(s.default,{children:["T\xednh ti\u1ec1n s\xe2n (",B(parseFloat(f)||0),"/gi\u1edd)"]})})]})]})]})," ",(0,D.jsx)(y.default,{onPress:async()=>{if(l.trim())if(0!==I.length)if(0!==W.length)try{const n=C.filter((e=>I.includes(e.id))),a=$(),i=f?parseFloat(f):void 0;await(async e=>{try{const t=await O(),n=Object.assign({},e,{id:k()});return t.push(n),await z(t),n}catch(t){throw console.error("L\u1ed7i khi th\xeam session:",t),t}})({date:t.toISOString(),endTime:o?o.toISOString():void 0,duration:a,courtFeePerHour:i,location:l.trim(),notes:c.trim()||void 0,players:n,expenses:W}),H.default.alert("Th\xe0nh c\xf4ng","\u0110\xe3 th\xeam bu\u1ed5i \u0111\xe1nh c\u1ea7u m\u1edbi",[{text:"OK",onPress:()=>e.goBack()}])}catch(n){H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 l\u01b0u bu\u1ed5i \u0111\xe1nh c\u1ea7u")}else H.default.alert("L\u1ed7i","Vui l\xf2ng th\xeam \xedt nh\u1ea5t m\u1ed9t kho\u1ea3n chi ph\xed");else H.default.alert("L\u1ed7i","Vui l\xf2ng ch\u1ecdn \xedt nh\u1ea5t m\u1ed9t ng\u01b0\u1eddi tham gia");else H.default.alert("L\u1ed7i","Vui l\xf2ng nh\u1eadp \u0111\u1ecba \u0111i\u1ec3m \u0111\xe1nh c\u1ea7u")},style:X.submitButton,children:(0,D.jsx)(s.default,{style:X.submitButtonText,children:(0,D.jsx)(s.default,{children:"L\u01b0u bu\u1ed5i \u0111\xe1nh c\u1ea7u"})})})]})})},Y=d.default.create({container:{flex:1,padding:16,backgroundColor:"#fff"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"},loadingText:{marginTop:12,fontSize:16,color:"#555"},section:{marginBottom:24},sectionTitle:{fontSize:18,fontWeight:"bold",marginBottom:12,color:"#333"},dateInput:{backgroundColor:"#f0f0f0",paddingVertical:12,paddingHorizontal:16,borderRadius:8,marginBottom:12},dateText:{fontSize:16,color:"#333"},timeInputContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:12},timeInputLabel:{fontSize:16,color:"#333",flex:1},timeInput:{backgroundColor:"#f0f0f0",paddingHorizontal:12,paddingVertical:10,borderRadius:8,flex:1,marginLeft:8},timeText:{fontSize:16,textAlign:"center",color:"#444"},input:{backgroundColor:"#f0f0f0",paddingVertical:12,paddingHorizontal:16,borderRadius:8,marginBottom:12,fontSize:16},multilineInput:{minHeight:80,textAlignVertical:"top"},playerList:{flexDirection:"row",flexWrap:"wrap",marginBottom:12},playerItem:{backgroundColor:"#f0f0f0",paddingVertical:8,paddingHorizontal:12,borderRadius:16,margin:4},playerItemSelected:{backgroundColor:"#4caf50"},playerName:{fontSize:14,color:"#444"},playerNameSelected:{color:"white"},newPlayerContainer:{flexDirection:"row"},newPlayerInput:{flex:1,backgroundColor:"#f0f0f0",paddingVertical:12,paddingHorizontal:16,borderRadius:8,marginRight:8,fontSize:16},addPlayerButton:{backgroundColor:"#2196f3",paddingHorizontal:16,justifyContent:"center",alignItems:"center",borderRadius:8},addPlayerButtonText:{color:"white",fontWeight:"bold"},expenseList:{marginBottom:16},expenseItem:{backgroundColor:"#f9f9f9",padding:12,borderRadius:8,marginBottom:8},expenseHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4},expenseType:{fontSize:15,fontWeight:"500",color:"#444"},expenseAmount:{fontSize:15,fontWeight:"bold",color:"#2e7d32"},expenseDescription:{fontSize:14,color:"#777",marginBottom:8},removeButton:{alignSelf:"flex-end",paddingHorizontal:12,paddingVertical:4,backgroundColor:"#f44336",borderRadius:4},removeButtonText:{color:"white",fontSize:12},newExpenseContainer:{marginTop:8},selectContainer:{marginBottom:12},selectLabel:{fontSize:14,color:"#555",marginBottom:6},selectOptions:{flexDirection:"row",flexWrap:"wrap"},selectOption:{backgroundColor:"#f0f0f0",paddingHorizontal:12,paddingVertical:8,borderRadius:16,margin:4},selectOptionSelected:{backgroundColor:"#2196f3"},selectOptionText:{fontSize:14,color:"#444"},selectOptionTextSelected:{color:"white",fontWeight:"500"},addExpenseButton:{backgroundColor:"#4caf50",paddingVertical:12,borderRadius:8,alignItems:"center",marginTop:8},addExpenseButtonText:{color:"white",fontWeight:"bold",fontSize:16},buttonContainer:{marginTop:16,marginBottom:30},submitButton:{backgroundColor:"#2e7d32",paddingVertical:14,borderRadius:8,alignItems:"center"},submitButtonText:{color:"white",fontWeight:"bold",fontSize:18},feeContainer:{marginBottom:12},feeLabel:{fontSize:16,color:"#333",marginBottom:8},feeInput:{backgroundColor:"#f0f0f0",paddingVertical:12,paddingHorizontal:16,borderRadius:8,fontSize:16},courtFeeButton:{backgroundColor:"#2196f3",marginTop:8},playerSelectionContainer:{marginTop:12,padding:12,borderRadius:8,backgroundColor:"#f9f9f9",borderWidth:1,borderColor:"#ddd"},playerSelectionLabel:{fontSize:16,color:"#333",marginBottom:8},playerSelectionList:{flexDirection:"row",flexWrap:"wrap"},playerSelectItem:{backgroundColor:"#f0f0f0",paddingVertical:8,paddingHorizontal:12,borderRadius:16,margin:4},playerSelectItemSelected:{backgroundColor:"#4caf50"},playerSelectName:{fontSize:14,color:"#444"},playerSelectNameSelected:{color:"white"},expensePlayers:{marginTop:6,marginBottom:8},expensePlayersLabel:{fontSize:12,color:"#666",fontStyle:"italic"},expensePlayersList:{flexDirection:"row",flexWrap:"wrap",marginTop:4},expensePlayerName:{fontSize:12,color:"#4caf50",backgroundColor:"#f0fff0",borderWidth:1,borderColor:"#4caf50",borderRadius:4,paddingVertical:2,paddingHorizontal:6,marginRight:6,marginBottom:4}}),J=()=>{const e=(0,h.useNavigation)(),t=(0,h.useRoute)(),{sessionId:n}=t.params,[o,i]=(0,a.useState)(!0),[l,d]=(0,a.useState)(null),[c,f]=(0,a.useState)(new Date),[m,g]=(0,a.useState)(null),[p,b]=(0,a.useState)(""),[T,C]=(0,a.useState)(""),[v,I]=(0,a.useState)(""),[R,E]=(0,a.useState)(!1),[L,A]=(0,a.useState)(!1),[W,V]=(0,a.useState)([]),[M,F]=(0,a.useState)([]),[K,U]=(0,a.useState)(""),[$,_]=(0,a.useState)([]),[Q,X]=(0,a.useState)({type:N.COURT_FEE,amount:"",description:"",divideAmong:[]});(0,a.useEffect)((()=>{q(),J()}),[n]);const q=async()=>{try{const t=(await O()).find((e=>e.id===n));t?(d(t),f(new Date(t.date)),b(t.location),C(t.notes||""),_([...t.expenses]),F(t.players.map((e=>e.id))),t.endTime&&g(new Date(t.endTime)),t.courtFeePerHour&&I(t.courtFeePerHour.toString())):(H.default.alert("L\u1ed7i","Kh\xf4ng t\xecm th\u1ea5y bu\u1ed5i \u0111\xe1nh c\u1ea7u"),e.goBack())}catch(t){console.error("L\u1ed7i khi t\u1ea3i th\xf4ng tin bu\u1ed5i \u0111\xe1nh c\u1ea7u:",t),H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 t\u1ea3i th\xf4ng tin bu\u1ed5i \u0111\xe1nh c\u1ea7u"),e.goBack()}finally{i(!1)}},J=async()=>{try{const e=await P();V(e)}catch(e){console.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch ng\u01b0\u1eddi ch\u01a1i:",e)}},Z=()=>{if(c&&m){const e=new Date(c),t=new Date(m);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t<e&&t.setDate(t.getDate()+1),Math.round((t.getTime()-e.getTime())/6e4)}},ee=e=>{switch(e){case N.COURT_FEE:return"Ti\u1ec1n s\xe2n";case N.SHUTTLE:return"Ti\u1ec1n c\u1ea7u";case N.DRINK:return"Ti\u1ec1n n\u01b0\u1edbc";case N.EQUIPMENT:return"Ti\u1ec1n ph\u1ee5 ki\u1ec7n";case N.OTHER:return"Chi ph\xed kh\xe1c";default:return"Chi ph\xed"}},te=e=>[N.DRINK,N.EQUIPMENT,N.OTHER].includes(e);return o?(0,D.jsxs)(r.default,{style:Y.loadingContainer,children:[(0,D.jsx)(u.default,{size:"large",color:"#4caf50"}),(0,D.jsx)(s.default,{style:Y.loadingText,children:"\u0110ang t\u1ea3i..."})]}):(0,D.jsxs)(j.default,{style:Y.container,children:[(0,D.jsxs)(r.default,{style:Y.section,children:[(0,D.jsx)(s.default,{style:Y.sectionTitle,children:"Th\xf4ng tin c\u01a1 b\u1ea3n"}),(0,D.jsx)(y.default,{style:Y.dateInput,onPress:()=>E(!0),children:(0,D.jsx)(s.default,{style:Y.dateText,children:(0,S.format)(c,"EEEE, dd/MM/yyyy",{locale:w.vi})})}),R&&(0,D.jsx)(G.default,{value:c,mode:"date",display:"default",onChange:(e,t)=>{E(!1),t&&f(t)}}),(0,D.jsxs)(r.default,{style:Y.timeInputContainer,children:[(0,D.jsx)(s.default,{style:Y.timeInputLabel,children:"Th\u1eddi gian b\u1eaft \u0111\u1ea7u:"}),(0,D.jsx)(y.default,{style:Y.timeInput,onPress:()=>{const e=new Date;f((t=>{const n=new Date(t);return n.setHours(e.getHours(),e.getMinutes(),0,0),n})),E(!0)},children:(0,D.jsx)(s.default,{style:Y.timeText,children:(0,S.format)(c,"HH:mm")})})]}),(0,D.jsxs)(r.default,{style:Y.timeInputContainer,children:[(0,D.jsx)(s.default,{style:Y.timeInputLabel,children:"Th\u1eddi gian k\u1ebft th\xfac:"}),(0,D.jsx)(y.default,{style:Y.timeInput,onPress:()=>A(!0),children:(0,D.jsx)(s.default,{style:Y.timeText,children:m?(0,S.format)(m,"HH:mm"):"Ch\u1ecdn gi\u1edd k\u1ebft th\xfac"})})]}),L&&(0,D.jsx)(G.default,{value:m||new Date,mode:"time",display:"default",onChange:(e,t)=>{A(!1),t&&g(t)}})," ",(0,D.jsx)(x.default,{style:Y.input,placeholder:"\u0110\u1ecba \u0111i\u1ec3m",value:p,onChangeText:b}),(0,D.jsxs)(r.default,{style:Y.feeContainer,children:[(0,D.jsx)(s.default,{style:Y.feeLabel,children:"Gi\xe1 thu\xea s\xe2n (VN\u0110/1 gi\u1edd):"}),(0,D.jsx)(x.default,{style:Y.feeInput,placeholder:"Nh\u1eadp gi\xe1 s\xe2n",value:v,onChangeText:e=>I(e.replace(/[^0-9]/g,"")),keyboardType:"numeric"})]}),(0,D.jsx)(x.default,{style:[Y.input,Y.multilineInput],placeholder:"Ghi ch\xfa (kh\xf4ng b\u1eaft bu\u1ed9c)",value:T,onChangeText:C,multiline:!0})]}),(0,D.jsxs)(r.default,{style:Y.section,children:[(0,D.jsx)(s.default,{style:Y.sectionTitle,children:"Ng\u01b0\u1eddi tham gia"}),(0,D.jsx)(r.default,{style:Y.playerList,children:W.map((e=>(0,D.jsx)(y.default,{style:[Y.playerItem,M.includes(e.id)&&Y.playerItemSelected],onPress:()=>{return t=e.id,void(M.includes(t)?F(M.filter((e=>e!==t))):F([...M,t]));var t},children:(0,D.jsx)(s.default,{style:[Y.playerName,M.includes(e.id)&&Y.playerNameSelected],children:e.name})},e.id)))})]}),(0,D.jsxs)(r.default,{style:Y.section,children:[(0,D.jsx)(s.default,{style:Y.sectionTitle,children:"Chi ph\xed"}),$.length>0&&(0,D.jsx)(r.default,{style:Y.expenseList,children:$.map((e=>(0,D.jsxs)(r.default,{style:Y.expenseItem,children:[(0,D.jsxs)(r.default,{style:Y.expenseHeader,children:[" ",(0,D.jsx)(s.default,{style:Y.expenseType,children:(0,D.jsx)(s.default,{children:ee(e.type)})})," ",(0,D.jsx)(s.default,{style:Y.expenseAmount,children:(0,D.jsx)(s.default,{children:B(e.amount)})})]}),e.description&&(0,D.jsxs)(s.default,{style:Y.expenseDescription,children:[" ",(0,D.jsx)(s.default,{children:e.description})]}),e.divideAmong&&e.divideAmong.length>0&&(0,D.jsxs)(r.default,{style:Y.expensePlayers,children:[(0,D.jsx)(s.default,{style:Y.expensePlayersLabel,children:"Chi ph\xed chia cho:"}),(0,D.jsx)(r.default,{style:Y.expensePlayersList,children:e.divideAmong.map((e=>{const t=W.find((t=>t.id===e));return t?(0,D.jsx)(s.default,{style:Y.expensePlayerName,children:(0,D.jsx)(s.default,{children:t.name})},e):null}))})]}),(0,D.jsx)(y.default,{style:Y.removeButton,onPress:()=>{return t=e.id,void _($.filter((e=>e.id!==t)));var t},children:(0,D.jsx)(s.default,{style:Y.removeButtonText,children:"X\xf3a"})})]},e.id)))}),(0,D.jsxs)(r.default,{style:Y.newExpenseContainer,children:[(0,D.jsxs)(r.default,{style:Y.selectContainer,children:[(0,D.jsx)(s.default,{style:Y.selectLabel,children:"Lo\u1ea1i chi ph\xed:"}),(0,D.jsx)(r.default,{style:Y.selectOptions,children:Object.values(N).map((e=>(0,D.jsx)(y.default,{style:[Y.selectOption,Q.type===e&&Y.selectOptionSelected],onPress:()=>(e=>{X(Object.assign({},Q,{type:e,divideAmong:te(e)&&Q.divideAmong||[]}))})(e),children:(0,D.jsx)(s.default,{style:[Y.selectOptionText,Q.type===e&&Y.selectOptionTextSelected],children:ee(e)})},e)))})]}),(0,D.jsx)(x.default,{style:Y.input,placeholder:"S\u1ed1 ti\u1ec1n",value:Q.amount,onChangeText:e=>X(Object.assign({},Q,{amount:e.replace(/[^0-9]/g,"")})),keyboardType:"numeric"}),(0,D.jsx)(x.default,{style:Y.input,placeholder:"M\xf4 t\u1ea3 (kh\xf4ng b\u1eaft bu\u1ed9c)",value:Q.description,onChangeText:e=>X(Object.assign({},Q,{description:e}))})," ",te(Q.type)&&(0,D.jsxs)(r.default,{style:Y.playerSelectionContainer,children:[(0,D.jsx)(s.default,{style:Y.playerSelectionLabel,children:"Chia s\u1ebb chi ph\xed cho:"}),(0,D.jsx)(r.default,{style:Y.playerSelectionList,children:W.map((e=>(0,D.jsx)(y.default,{style:[Y.playerSelectItem,Q.divideAmong?.includes(e.id)&&Y.playerSelectItemSelected],onPress:()=>(e=>{const t=Q.divideAmong||[];t.includes(e)?X(Object.assign({},Q,{divideAmong:t.filter((t=>t!==e))})):X(Object.assign({},Q,{divideAmong:[...t,e]}))})(e.id),children:(0,D.jsx)(s.default,{style:[Y.playerSelectName,Q.divideAmong?.includes(e.id)&&Y.playerSelectNameSelected],children:e.name})},e.id)))})]}),(0,D.jsx)(y.default,{style:Y.addExpenseButton,onPress:()=>{if(!Q.amount||parseFloat(Q.amount)<=0)return void H.default.alert("L\u1ed7i","Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n h\u1ee3p l\u1ec7");if(te(Q.type)&&(!Q.divideAmong||0===Q.divideAmong.length))return void H.default.alert("Ch\u01b0a ch\u1ecdn ng\u01b0\u1eddi tham gia","Vui l\xf2ng ch\u1ecdn \xedt nh\u1ea5t m\u1ed9t ng\u01b0\u1eddi tham gia \u0111\u1ec3 chi tr\u1ea3 chi ph\xed n\xe0y.");const e={id:k(),type:Q.type,amount:parseFloat(Q.amount),description:Q.description,divideAmong:Q.divideAmong?.length?Q.divideAmong:void 0};_([...$,e]),X({type:N.COURT_FEE,amount:"",description:"",divideAmong:[]})},children:(0,D.jsx)(s.default,{style:Y.addExpenseButtonText,children:"Th\xeam chi ph\xed"})}),v&&m&&(0,D.jsxs)(y.default,{style:[Y.addExpenseButton,Y.courtFeeButton],onPress:()=>{if(!v||parseFloat(v)<=0)return void H.default.alert("L\u1ed7i","Vui l\xf2ng nh\u1eadp gi\xe1 thu\xea s\xe2n h\u1ee3p l\u1ec7");if(!m)return void H.default.alert("L\u1ed7i","Vui l\xf2ng ch\u1ecdn th\u1eddi gian k\u1ebft th\xfac \u0111\u1ec3 t\xednh chi ph\xed thu\xea s\xe2n");const e=(()=>{const e=Z();if(e&&v){const t=parseFloat(v),n=e/60;return Math.round(t*n)}return 0})();if(e<=0)return void H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 t\xednh chi ph\xed thu\xea s\xe2n");const t=Z();let n=0,o=0;t&&(n=Math.floor(t/60),o=t%60);const a="S\xe2n "+((n>0?n+" gi\u1edd ":"")+(o>0?o+" ph\xfat":""))+" ("+(B(parseFloat(v))+"/gi\u1edd")+")",i={id:k(),type:N.COURT_FEE,amount:e,description:a};_([...$,i]),H.default.alert("Th\xe0nh c\xf4ng","\u0110\xe3 th\xeam chi ph\xed thu\xea s\xe2n")},children:[" ",(0,D.jsx)(s.default,{style:Y.addExpenseButtonText,children:(0,D.jsxs)(s.default,{children:["T\xednh ti\u1ec1n s\xe2n (",B(parseFloat(v)||0),"/gi\u1edd)"]})})]})]})]}),(0,D.jsx)(r.default,{style:Y.buttonContainer,children:(0,D.jsx)(y.default,{style:Y.submitButton,onPress:async()=>{if(p.trim())if(0!==M.length)if(0!==$.length)if(l)try{const t=W.filter((e=>M.includes(e.id))),n=Z(),o=v?parseFloat(v):void 0;await(async e=>{try{const t=await O(),n=t.findIndex((t=>t.id===e.id));if(-1===n)throw new Error("Kh\xf4ng t\xecm th\u1ea5y bu\u1ed5i \u0111\xe1nh c\u1ea7u \u0111\u1ec3 c\u1eadp nh\u1eadt");t[n]=e,await z(t)}catch(t){throw console.error("L\u1ed7i khi c\u1eadp nh\u1eadt session:",t),t}})(Object.assign({},l,{date:c.toISOString(),endTime:m?m.toISOString():void 0,duration:n,courtFeePerHour:o,location:p.trim(),notes:T.trim()||void 0,players:t,expenses:$})),H.default.alert("Th\xe0nh c\xf4ng","\u0110\xe3 c\u1eadp nh\u1eadt bu\u1ed5i \u0111\xe1nh c\u1ea7u",[{text:"OK",onPress:()=>e.goBack()}])}catch(t){H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt bu\u1ed5i \u0111\xe1nh c\u1ea7u")}else H.default.alert("L\u1ed7i","Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin g\u1ed1c c\u1ee7a bu\u1ed5i \u0111\xe1nh c\u1ea7u");else H.default.alert("L\u1ed7i","Vui l\xf2ng th\xeam \xedt nh\u1ea5t m\u1ed9t kho\u1ea3n chi ph\xed");else H.default.alert("L\u1ed7i","Vui l\xf2ng ch\u1ecdn \xedt nh\u1ea5t m\u1ed9t ng\u01b0\u1eddi tham gia");else H.default.alert("L\u1ed7i","Vui l\xf2ng nh\u1eadp \u0111\u1ecba \u0111i\u1ec3m \u0111\xe1nh c\u1ea7u")},children:(0,D.jsx)(s.default,{style:Y.submitButtonText,children:(0,D.jsx)(s.default,{children:"C\u1eadp nh\u1eadt"})})})})]})},Z=d.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},listContainer:{padding:16,paddingBottom:80},playerItem:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",backgroundColor:"white",padding:16,borderRadius:8,marginBottom:12,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22},playerName:{fontSize:16,color:"#333"},deleteButton:{backgroundColor:"#f44336",paddingHorizontal:12,paddingVertical:6,borderRadius:4},deleteButtonText:{color:"white",fontSize:14,fontWeight:"500"},emptyText:{textAlign:"center",marginTop:40,fontSize:16,color:"#666"},addButton:{position:"absolute",bottom:20,left:20,right:20,backgroundColor:"#4caf50",paddingVertical:14,borderRadius:8,alignItems:"center",elevation:4,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.23,shadowRadius:2.62},addButtonText:{color:"white",fontSize:16,fontWeight:"bold"}}),ee=()=>{const e=(0,h.useNavigation)(),[t,n]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0);(0,a.useEffect)((()=>{l();return e.addListener("focus",(()=>{l()}))}),[e]);const l=async()=>{i(!0);try{const e=[...await P()].sort(((e,t)=>e.name.localeCompare(t.name)));n(e)}catch(e){console.error("L\u1ed7i khi t\u1ea3i danh s\xe1ch ng\u01b0\u1eddi ch\u01a1i:",e)}finally{i(!1)}},d=e=>{H.default.alert("X\xe1c nh\u1eadn x\xf3a",`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ng\u01b0\u1eddi ch\u01a1i "${e.name}" kh\xf4ng?`,[{text:"H\u1ee7y",style:"cancel"},{text:"X\xf3a",style:"destructive",onPress:async()=>{try{await(async e=>{try{const t=(await P()).filter((t=>t.id!==e));await E(t)}catch(t){throw console.error("L\u1ed7i khi x\xf3a ng\u01b0\u1eddi ch\u01a1i:",t),t}})(e.id),l()}catch(t){H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 x\xf3a ng\u01b0\u1eddi ch\u01a1i")}}}])};return(0,D.jsxs)(r.default,{style:Z.container,children:[(0,D.jsx)(p.default,{data:t,renderItem:({item:e})=>(0,D.jsxs)(r.default,{style:Z.playerItem,children:[(0,D.jsx)(s.default,{style:Z.playerName,children:e.name}),(0,D.jsx)(y.default,{style:Z.deleteButton,onPress:()=>d(e),children:(0,D.jsx)(s.default,{style:Z.deleteButtonText,children:"X\xf3a"})})]}),keyExtractor:e=>e.id,contentContainerStyle:Z.listContainer,ListEmptyComponent:(0,D.jsx)(s.default,{style:Z.emptyText,children:o?"\u0110ang t\u1ea3i...":"Ch\u01b0a c\xf3 ng\u01b0\u1eddi ch\u01a1i n\xe0o. H\xe3y th\xeam ng\u01b0\u1eddi ch\u01a1i m\u1edbi!"})}),(0,D.jsx)(y.default,{style:Z.addButton,onPress:()=>e.navigate("AddPlayer"),children:(0,D.jsx)(s.default,{style:Z.addButtonText,children:"+ Th\xeam ng\u01b0\u1eddi ch\u01a1i"})})]})},te=d.default.create({container:{flex:1,backgroundColor:"#f5f5f5",padding:16},formContainer:{backgroundColor:"white",borderRadius:10,padding:16,elevation:2,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.22,shadowRadius:2.22},label:{fontSize:16,color:"#555",marginBottom:8},input:{borderWidth:1,borderColor:"#ddd",borderRadius:8,paddingHorizontal:12,paddingVertical:10,fontSize:16,marginBottom:20},saveButton:{backgroundColor:"#4caf50",paddingVertical:14,borderRadius:8,alignItems:"center"},saveButtonText:{color:"white",fontWeight:"bold",fontSize:16}}),ne=()=>{const e=(0,h.useNavigation)(),[t,n]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1);return(0,D.jsx)(r.default,{style:te.container,children:(0,D.jsxs)(r.default,{style:te.formContainer,children:[(0,D.jsx)(s.default,{style:te.label,children:"T\xean ng\u01b0\u1eddi ch\u01a1i"}),(0,D.jsx)(x.default,{style:te.input,placeholder:"Nh\u1eadp t\xean ng\u01b0\u1eddi ch\u01a1i",value:t,onChangeText:n,autoCapitalize:"words",autoFocus:!0}),(0,D.jsx)(y.default,{style:te.saveButton,onPress:async()=>{if(t.trim()){i(!0);try{await L(t.trim()),e.goBack()}catch(n){H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 th\xeam ng\u01b0\u1eddi ch\u01a1i")}finally{i(!1)}}else H.default.alert("L\u1ed7i","Vui l\xf2ng nh\u1eadp t\xean ng\u01b0\u1eddi ch\u01a1i")},disabled:o,children:(0,D.jsx)(s.default,{style:te.saveButtonText,children:o?"\u0110ang l\u01b0u...":"L\u01b0u ng\u01b0\u1eddi ch\u01a1i"})})]})})},oe=d.default.create({container:{flex:1,backgroundColor:"#fff"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},loadingText:{marginTop:12,fontSize:16,color:"#555"},tabContainer:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#e0e0e0",backgroundColor:"#fff"},tab:{flex:1,paddingVertical:12,alignItems:"center"},activeTab:{borderBottomWidth:2,borderBottomColor:"#4caf50"},tabText:{fontSize:14,color:"#666"},activeTabText:{color:"#4caf50",fontWeight:"bold"},content:{flex:1,padding:16},emptyState:{flex:1,justifyContent:"center",alignItems:"center",padding:40},emptyText:{fontSize:16,color:"#888"},statsContainer:{paddingBottom:20},statsCard:{backgroundColor:"#f9f9f9",borderRadius:8,padding:16,marginBottom:12},statsTitle:{fontSize:18,fontWeight:"bold",color:"#333",marginBottom:4},statsSubtitle:{fontSize:14,color:"#666",marginBottom:12},statsAmount:{fontSize:20,fontWeight:"bold",color:"#2e7d32",marginBottom:4},statsAverage:{fontSize:14,color:"#666"},statsSummary:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},statsTotalLabel:{fontSize:16,color:"#333"},statsTotal:{fontSize:18,fontWeight:"bold",color:"#2e7d32"},statsRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:12,borderBottomWidth:1,borderBottomColor:"#f0f0f0"},statsTypeInfo:{flex:1},statsTypeLabel:{fontSize:16,color:"#333"},statsTypePercentage:{fontSize:14,color:"#888",marginTop:2},statsTypeAmount:{fontSize:16,fontWeight:"500",color:"#2e7d32"}}),ae=()=>{const[e,t]=(0,a.useState)(!0),[n,o]=(0,a.useState)([]),[i,l]=(0,a.useState)("byMonth");(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{try{t(!0);const e=(await O()).sort(((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()));o(e)}catch(e){console.error("L\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u phi\xean:",e),H.default.alert("L\u1ed7i","Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u th\u1ed1ng k\xea")}finally{t(!1)}},c=e=>{const[t,n]=e.split("/");return`Th\xe1ng ${t}/${n}`},h=()=>{const e={};return n.forEach((t=>{const n=(e=>{const t=new Date(e);return`${t.getMonth()+1}/${t.getFullYear()}`})(t.date);e[n]||(e[n]={total:0,sessions:0}),t.expenses.forEach((t=>{e[n].total+=t.amount})),e[n].sessions+=1})),Object.keys(e).sort(((e,t)=>{const[n,o]=e.split("/").map(Number),[a,i]=t.split("/").map(Number);return o!==i?i-o:a-n})).map((t=>({label:c(t),total:e[t].total,sessions:e[t].sessions})))},f=e=>{switch(e){case N.COURT_FEE:return"Ti\u1ec1n s\xe2n";case N.SHUTTLE:return"Ti\u1ec1n c\u1ea7u";case N.DRINK:return"Ti\u1ec1n n\u01b0\u1edbc";case N.EQUIPMENT:return"Ti\u1ec1n ph\u1ee5 ki\u1ec7n";case N.OTHER:return"Chi ph\xed kh\xe1c";default:return"Chi ph\xed"}};return(0,D.jsxs)(r.default,{style:oe.container,children:[(0,D.jsxs)(r.default,{style:oe.tabContainer,children:[(0,D.jsx)(y.default,{style:[oe.tab,"byMonth"===i&&oe.activeTab],onPress:()=>l("byMonth"),children:(0,D.jsx)(s.default,{style:[oe.tabText,"byMonth"===i&&oe.activeTabText],children:"Theo th\xe1ng"})}),(0,D.jsx)(y.default,{style:[oe.tab,"byType"===i&&oe.activeTab],onPress:()=>l("byType"),children:(0,D.jsx)(s.default,{style:[oe.tabText,"byType"===i&&oe.activeTabText],children:"Theo lo\u1ea1i"})}),(0,D.jsx)(y.default,{style:[oe.tab,"byPlayer"===i&&oe.activeTab],onPress:()=>l("byPlayer"),children:(0,D.jsx)(s.default,{style:[oe.tabText,"byPlayer"===i&&oe.activeTabText],children:"Theo ng\u01b0\u1eddi ch\u01a1i"})})]}),(0,D.jsx)(j.default,{style:oe.content,children:e?(0,D.jsxs)(r.default,{style:oe.loadingContainer,children:[(0,D.jsx)(u.default,{size:"large",color:"#4caf50"}),(0,D.jsx)(s.default,{style:oe.loadingText,children:"\u0110ang t\u1ea3i..."})]}):(0,D.jsxs)(D.Fragment,{children:["byMonth"===i&&(()=>{const e=h();return 0===e.length?(0,D.jsx)(r.default,{style:oe.emptyState,children:(0,D.jsx)(s.default,{style:oe.emptyText,children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"})}):(0,D.jsx)(r.default,{style:oe.statsContainer,children:e.map(((e,t)=>(0,D.jsxs)(r.default,{style:oe.statsCard,children:[(0,D.jsx)(s.default,{style:oe.statsTitle,children:e.label}),(0,D.jsxs)(s.default,{style:oe.statsSubtitle,children:[e.sessions," bu\u1ed5i ch\u01a1i"]}),(0,D.jsx)(s.default,{style:oe.statsAmount,children:B(e.total)})," ",(0,D.jsxs)(s.default,{style:oe.statsAverage,children:[(0,D.jsx)(s.default,{children:"Trung b\xecnh: "}),(0,D.jsxs)(s.default,{children:[B(e.total/e.sessions)," / bu\u1ed5i"]})]})]},t)))})})(),"byType"===i&&(()=>{const e=(()=>{const e={[N.COURT_FEE]:0,[N.SHUTTLE]:0,[N.DRINK]:0,[N.EQUIPMENT]:0,[N.OTHER]:0};return n.forEach((t=>{t.expenses.forEach((t=>{e[t.type]+=t.amount}))})),Object.entries(e).map((([e,t])=>({type:e,amount:t}))).sort(((e,t)=>t.amount-e.amount))})(),t=e.reduce(((e,t)=>e+t.amount),0);return 0===t?(0,D.jsx)(r.default,{style:oe.emptyState,children:(0,D.jsx)(s.default,{style:oe.emptyText,children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"})}):(0,D.jsxs)(r.default,{style:oe.statsContainer,children:[(0,D.jsxs)(r.default,{style:oe.statsSummary,children:[(0,D.jsx)(s.default,{style:oe.statsTotalLabel,children:"T\u1ed5ng chi ph\xed:"}),(0,D.jsx)(s.default,{style:oe.statsTotal,children:B(t)})]}),e.map(((e,n)=>(0,D.jsxs)(r.default,{style:oe.statsRow,children:[(0,D.jsxs)(r.default,{style:oe.statsTypeInfo,children:[(0,D.jsx)(s.default,{style:oe.statsTypeLabel,children:f(e.type)}),(0,D.jsxs)(s.default,{style:oe.statsTypePercentage,children:[Math.round(e.amount/t*100),"%"]})]}),(0,D.jsx)(s.default,{style:oe.statsTypeAmount,children:B(e.amount)})]},n)))]})})(),"byPlayer"===i&&(()=>{const e=(()=>{const e={};return n.forEach((t=>{let n=0;t.expenses.forEach((e=>{n+=e.amount}));const o=t.players.length;if(0===o)return;const a=n/o;t.players.forEach((t=>{e[t.id]||(e[t.id]={name:t.name,sessions:0,totalPaid:0}),e[t.id].sessions+=1,e[t.id].totalPaid+=a}))})),Object.values(e).sort(((e,t)=>t.totalPaid-e.totalPaid))})();return 0===e.length?(0,D.jsx)(r.default,{style:oe.emptyState,children:(0,D.jsx)(s.default,{style:oe.emptyText,children:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"})}):(0,D.jsx)(r.default,{style:oe.statsContainer,children:e.map(((e,t)=>(0,D.jsxs)(r.default,{style:oe.statsCard,children:[(0,D.jsx)(s.default,{style:oe.statsTitle,children:e.name}),(0,D.jsxs)(s.default,{style:oe.statsSubtitle,children:[e.sessions," l\u1ea7n tham gia"]}),(0,D.jsx)(s.default,{style:oe.statsAmount,children:B(e.totalPaid)})," ",(0,D.jsxs)(s.default,{style:oe.statsAverage,children:[(0,D.jsx)(s.default,{children:"Trung b\xecnh: "}),(0,D.jsxs)(s.default,{children:[B(e.totalPaid/e.sessions)," / l\u1ea7n"]})]})]},t)))})})()]})})]})},ie=(0,f.createNativeStackNavigator)(),le=(0,m.createBottomTabNavigator)(),re=()=>(0,D.jsxs)(le.Navigator,{id:void 0,screenOptions:({route:e})=>({headerShown:!0,tabBarActiveTintColor:"#4caf50",tabBarInactiveTintColor:"gray",tabBarStyle:{paddingBottom:5,height:60},tabBarIcon:({focused:t,color:n,size:o})=>{let a;return a="Home"===e.name?t?"home":"home-outline":"Players"===e.name?t?"people":"people-outline":"Stats"===e.name?t?"stats-chart":"stats-chart-outline":"help-outline",(0,D.jsx)(g.default,{name:a,size:o,color:n})}}),children:[(0,D.jsx)(le.Screen,{name:"Home",component:W,options:{title:"Trang ch\u1ee7"}}),(0,D.jsx)(le.Screen,{name:"Players",component:ee,options:{title:"Ng\u01b0\u1eddi ch\u01a1i"}}),(0,D.jsx)(le.Screen,{name:"Stats",component:ae,options:{title:"Th\u1ed1ng k\xea"}})]}),se=()=>(0,D.jsx)(h.NavigationContainer,{children:(0,D.jsxs)(ie.Navigator,{id:void 0,initialRouteName:"MainTabs",screenOptions:{headerStyle:{backgroundColor:"#4caf50"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"}},children:[(0,D.jsx)(ie.Screen,{name:"MainTabs",component:re,options:{headerShown:!1}}),(0,D.jsx)(ie.Screen,{name:"SessionDetail",component:Q,options:{title:"Chi ti\u1ebft bu\u1ed5i \u0111\xe1nh c\u1ea7u"}}),(0,D.jsx)(ie.Screen,{name:"NewSession",component:q,options:{title:"Th\xeam bu\u1ed5i \u0111\xe1nh c\u1ea7u m\u1edbi"}}),(0,D.jsx)(ie.Screen,{name:"EditSession",component:J,options:{title:"Ch\u1ec9nh s\u1eeda bu\u1ed5i \u0111\xe1nh c\u1ea7u"}}),(0,D.jsx)(ie.Screen,{name:"AddPlayer",component:ne,options:{title:"Th\xeam ng\u01b0\u1eddi ch\u01a1i m\u1edbi"}})]})});const de=d.default.create({splashContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#ffffff"},splashImage:{width:120,height:120,resizeMode:"contain",marginBottom:20},splashTitle:{fontSize:28,fontWeight:"bold",color:"#4caf50",marginBottom:8},splashSubtitle:{fontSize:16,color:"#666",marginBottom:40},loader:{marginTop:20}});"undefined"!==typeof document&&n.e(49).then(n.t.bind(n,4049,23)).catch((e=>console.error("Error loading service worker:",e))),(0,o.default)((function(){const[e,t]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{setTimeout((()=>{t(!1)}),2e3)}),[]),e?(0,D.jsxs)(r.default,{style:de.splashContainer,children:[(0,D.jsx)(c.default,{source:n(9812),style:de.splashImage}),(0,D.jsx)(s.default,{style:de.splashTitle,children:"CauLongApp"}),(0,D.jsx)(s.default,{style:de.splashSubtitle,children:"Qu\u1ea3n l\xfd chi ph\xed \u0111\xe1nh c\u1ea7u l\xf4ng"}),(0,D.jsx)(u.default,{size:"large",color:"#4caf50",style:de.loader})]}):(0,D.jsxs)(l.SafeAreaProvider,{children:[(0,D.jsx)(i.StatusBar,{style:"auto"}),(0,D.jsx)(se,{})]})}))}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,(()=>{var e=[];n.O=(t,o,a,i)=>{if(!o){var l=1/0;for(c=0;c<e.length;c++){for(var[o,a,i]=e[c],r=!0,s=0;s<o.length;s++)(!1&i||l>=i)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(r=!1,i<l&&(l=i));if(r){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,a,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(o,a){if(1&a&&(o=this(o)),8&a)return o;if("object"===typeof o&&o){if(4&a&&o.__esModule)return o;if(16&a&&"function"===typeof o.then)return o}var i=Object.create(null);n.r(i);var l={};e=e||[null,t({}),t([]),t(t)];for(var r=2&a&&o;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((e=>l[e]=()=>o[e]));return l.default=()=>o,n.d(i,l),i}})(),n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[])),n.u=e=>"static/js/"+e+".6b0745a1.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";n.l=(o,a,i,l)=>{if(e[o])e[o].push(a);else{var r,s;if(void 0!==i)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+i){r=u;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+i),r.src=o),e[o]=[a];var h=(t,n)=>{r.onerror=r.onload=null,clearTimeout(f);var a=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=h.bind(null,r.onerror),r.onload=h.bind(null,r.onload),s&&document.head.appendChild(r)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,o)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var i=new Promise(((n,o)=>a=e[t]=[n,o]));o.push(a[2]=i);var l=n.p+n.u(t),r=new Error;n.l(l,(o=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=o&&("load"===o.type?"missing":o.type),l=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+i+": "+l+")",r.name="ChunkLoadError",r.type=i,r.request=l,a[1](r)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,o)=>{var a,i,[l,r,s]=o,d=0;if(l.some((t=>0!==e[t]))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(s)var c=s(n)}for(t&&t(o);d<l.length;d++)i=l[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[620],(()=>n(9836)));o=n.O(o)})();
//# sourceMappingURL=main.b2a4a39b.js.map